# üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–æ—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üé≠ –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

–í–∞—à –±–æ—Ç –∏–º–µ–µ—Ç **–¥–≤–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞** —Ä–∞–±–æ—Ç—ã:

### 1Ô∏è‚É£ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Development Mode)
**–†–µ–∂–∏–º:** Long Polling  
**–ö–æ–º–∞–Ω–¥–∞:** `npm run dev`  
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –ë–æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–∞–º –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram

### 2Ô∏è‚É£ Production –Ω–∞ Vercel
**–†–µ–∂–∏–º:** Webhook (Serverless)  
**–ó–∞–ø—É—Å–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ  
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** Telegram –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

---

## üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
npm run dev
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
```
package.json ‚Üí "dev": "tsx watch api/webhook.ts"
                ‚Üì
          –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è api/webhook.ts
                ‚Üì
     –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è ENVIRONMENT === "development"
                ‚Üì
          bot.launch() - –∑–∞–ø—É—Å–∫ –≤ polling —Ä–µ–∂–∏–º–µ
                ‚Üì
     –ë–æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram –∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥
```

### –ö–æ–¥ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

```typescript
// api/webhook.ts (—Å—Ç—Ä–æ–∫–∏ 178-193)

if (ENVIRONMENT === "development") {
  console.log("üöÄ Starting bot in development mode...");
  bot.launch()  // ‚Üê –ó–∞–ø—É—Å–∫–∞–µ—Ç long-polling
    .then(() => {
      console.log("‚úÖ Bot is running in development mode (polling)");
    });
}
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Your PC   ‚îÇ
‚îÇ             ‚îÇ
‚îÇ  npm run dev‚îÇ ‚Üê –ó–∞–ø—É—Å–∫–∞–µ—à—å –≤—Ä—É—á–Ω—É—é
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Bot Process‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ   Telegram   ‚îÇ
‚îÇ  (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ ‚îÇ <‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   Servers    ‚îÇ
‚îÇ   —Ä–∞–±–æ—Ç–∞–µ—Ç) ‚îÇ    "–ï—Å—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è?"  ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚ñ≤
       ‚îÇ
       ‚îî‚îÄ –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—à—å (Ctrl+C)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram —Å–∞–º
- ‚úÖ –õ–æ–≥–∏ –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏
- ‚ö†Ô∏è –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–∫–ª—é—á–µ–Ω–Ω—ã–º

---

## üåê Production –Ω–∞ Vercel (Serverless)

### –ö–∞–∫ "–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"

**–ù–ò–ö–ê–ö! –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞!**

Vercel —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **serverless —Ñ—É–Ω–∫—Ü–∏—è**:
- –ö–æ–¥ "—Å–ø–∏—Ç" –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –æ—Ç Telegram ‚Üí Vercel –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é
- –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
- –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
- –ö–æ–¥ —Å–Ω–æ–≤–∞ "—Å–ø–∏—Ç"

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

```bash
git push origin main
       ‚Üì
   GitHub –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–º–∏—Ç
       ‚Üì
   Vercel –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
       ‚Üì
   Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç
       ‚Üì
   –°–æ–∑–¥–∞–µ—Ç serverless —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ api/webhook.ts
       ‚Üì
   –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ URL: https://your-project.vercel.app/api/webhook
```

### –ö–æ–¥ –¥–ª—è Vercel

```typescript
// api/webhook.ts (—Å—Ç—Ä–æ–∫–∏ 156-175)

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è - —ç—Ç–æ –∏ –µ—Å—Ç—å "—Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞"
export default async (req: any, res: any) => {
  try {
    if (req.method === "POST") {
      // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç Telegram
      await bot.handleUpdate(req.body, res);
      res.status(200).json({ ok: true });
    }
  } catch (error) {
    console.error("Webhook error:", error);
    res.status(500).json({ error: "Internal server error" });
  }
};
```

### –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç—ã

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram Servers ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚îÇ POST https://your-project.vercel.app/api/webhook
          ‚îÇ { "message": "–ø—Ä–∏–≤–µ—Ç" }
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Vercel Serverless Platform             ‚îÇ
‚îÇ                                                     ‚îÇ
‚îÇ  1. –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å                                ‚îÇ
‚îÇ  2. "–ë—É–¥–∏—Ç" —Ñ—É–Ω–∫—Ü–∏—é (cold start –∏–ª–∏ warm)          ‚îÇ
‚îÇ  3. –ó–∞–ø—É—Å–∫–∞–µ—Ç export default async (req, res)      ‚îÇ
‚îÇ  4. –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ                 ‚îÇ
‚îÇ  5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ Telegram                    ‚îÇ
‚îÇ  6. –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è                            ‚îÇ
‚îÇ  7. –§—É–Ω–∫—Ü–∏—è "–∑–∞—Å—ã–ø–∞–µ—Ç" –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
    –û—Ç–≤–µ—Ç –±–æ—Ç—É –≤ Telegram
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ Vercel
- ‚ö†Ô∏è –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç (200-500ms –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- ‚ö†Ô∏è Timeout 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ free tier
- ‚ö†Ô∏è –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

---

## üîÑ –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

```typescript
const ENVIRONMENT = process.env.NODE_ENV || "development";

// –õ–æ–∫–∞–ª—å–Ω–æ (npm run dev)
if (ENVIRONMENT === "development") {
  bot.launch(); // Polling —Ä–µ–∂–∏–º
}

// –ù–∞ Vercel
// export default —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –í —Ñ–∞–π–ª–µ api/webhook.ts

```typescript
// ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
// ‚îÇ  –î–í–ê –°–ü–û–°–û–ë–ê –ó–ê–ü–£–°–ö–ê –í –û–î–ù–û–ú –§–ê–ô–õ–ï               ‚îÇ
// ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

// 1. –î–ª—è Vercel (–≤—Å–µ–≥–¥–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è)
export default async (req: any, res: any) => {
  // Webhook –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
};

// 2. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ ENVIRONMENT === "development")
if (ENVIRONMENT === "development") {
  bot.launch(); // Long-polling
}
```

---

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Local (dev) | Production (Vercel) |
|----------|-------------|---------------------|
| **–ó–∞–ø—É—Å–∫** | `npm run dev` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π |
| **–†–µ–∂–∏–º** | Long Polling | Webhook |
| **–ü—Ä–æ—Ü–µ—Å—Å** | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç | –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é |
| **"–°–∫—Ä–∏–ø—Ç"** | `bot.launch()` | `export default` |
| **–°–æ—Å—Ç–æ—è–Ω–∏–µ** | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ | –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è |
| **–õ–æ–≥–∏** | –í –∫–æ–Ω—Å–æ–ª–∏ | –ù–∞ Vercel Dashboard |
| **–°—Ç–æ–ø** | Ctrl+C | –ù–µ–ª—å–∑—è "–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | $0 (—Ç–≤–æ–π –∫–æ–º–ø) | $0 (free tier) |
| **24/7** | –ù–µ—Ç | –î–∞ |

---

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –¥–ª—è Vercel

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ **–æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å webhook:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ <BOT_TOKEN> –∏ <VERCEL_URL>
curl https://api.telegram.org/bot<BOT_TOKEN>/setWebhook?url=<VERCEL_URL>/api/webhook
```

–ü—Ä–∏–º–µ—Ä:
```bash
curl https://api.telegram.org/bot123456:ABC-DEF/setWebhook?url=https://tokobot.vercel.app/api/webhook
```

–≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç Telegram: "–û—Ç–ø—Ä–∞–≤–ª—è–π –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —ç—Ç–æ—Ç URL"

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook

```bash
curl https://api.telegram.org/bot<BOT_TOKEN>/getWebhookInfo
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
./scripts/check-webhook.sh
```

---

## üîç –î–µ—Ç–∞–ª–∏ Vercel Serverless

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

1. **Vercel —á–∏—Ç–∞–µ—Ç `vercel.json`**
   ```json
   {}  // –ü—É—Å—Ç–æ = –∞–≤—Ç–æ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   ```

2. **Vercel –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª—ã –≤ `api/`**
   - `api/webhook.ts` ‚Üí —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π
   - URL: `https://your-project.vercel.app/api/webhook`

3. **Vercel –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `tsconfig.json`
   - –°–æ–∑–¥–∞–µ—Ç serverless —Ñ—É–Ω–∫—Ü–∏—é

4. **–§—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –≤—ã–∑–æ–≤–∞–º**
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ HTTP –∑–∞–ø—Ä–æ—Å–µ
   - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

### –ö–∞–∫ Vercel –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é

```javascript
// –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ Vercel (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)

async function handleRequest(request) {
  // 1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é
  const handler = await import('./api/webhook.js');
  
  // 2. –í—ã–∑—ã–≤–∞–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
  const response = await handler.default(request, responseObject);
  
  // 3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  return response;
}

// –ü—Ä–∏ –∫–∞–∂–¥–æ–º POST –æ—Ç Telegram –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è handleRequest
```

---

## üí° –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ù—É–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞ –Ω–∞ Vercel –≤—Ä—É—á–Ω—É—é?
**A:** –ù–ï–¢! –û–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ—Ç Telegram.

### Q: –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ Vercel?
**A:** –£–¥–∞–ª–∏—Ç—å webhook:
```bash
curl https://api.telegram.org/bot<BOT_TOKEN>/deleteWebhook
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å polling –Ω–∞ Vercel?
**A:** –ù–ï–¢! Vercel serverless - —Ç–æ–ª—å–∫–æ webhook. Polling —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.

### Q: –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Vercel?
**A:** –≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `export default` –≤ `api/webhook.ts`. Vercel –≤—ã–∑—ã–≤–∞–µ—Ç –µ—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### Q: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è?
**A:** 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ free tier, –ø–æ—Ç–æ–º timeout.

### Q: –ß—Ç–æ —Ç–∞–∫–æ–µ cold start?
**A:** –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ (200-500ms), —Ç.–∫. Vercel "–±—É–¥–∏—Ç" —Ñ—É–Ω–∫—Ü–∏—é.

### Q: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏?
**A:** –ù–ï–¢! –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ - "—á–∏—Å—Ç—ã–π –ª–∏—Å—Ç". –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

## üöÄ Workflow –¥–µ–ø–ª–æ—è

```
1. –ü–∏—à–µ—Ç–µ –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ
   ‚Üì
2. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ —Å npm run dev (polling)
   ‚Üì
3. git push origin main
   ‚Üì
4. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç
   ‚Üì
5. –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ URL
   ‚Üì
6. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ webhook –æ–¥–∏–Ω —Ä–∞–∑
   ‚Üì
7. Telegram ‚Üí Vercel ‚Üí –í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è ‚Üí Telegram
   ‚Üì
8. –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** [QUICKSTART.md](QUICKSTART.md)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** [ARCHITECTURE.md](ARCHITECTURE.md)
- **Vercel –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://vercel.com/docs/concepts/functions/serverless-functions
- **Telegram Bot API:** https://core.telegram.org/bots/api#setwebhook

---

## ‚úÖ –ò—Ç–æ–≥–æ

**–õ–æ–∫–∞–ª—å–Ω–æ:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ: `npm run dev`
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (polling)
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ: Ctrl+C

**–ù–∞ Vercel:**
- "–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è": –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (serverless)
- "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è": –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –†–∞–±–æ—Ç–∞–µ—Ç 24/7

**"–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞" –Ω–∞ Vercel = export default —Ñ—É–Ω–∫—Ü–∏—è –≤ api/webhook.ts**

---

–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-01-07

