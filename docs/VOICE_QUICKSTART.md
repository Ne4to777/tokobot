# üé§ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

### 1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ Yandex Cloud

–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ –∫–ª—é—á–∏, —á—Ç–æ –∏ YandexGPT:

**–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å `YANDEX_API_KEY` –∏ `YANDEX_FOLDER_ID` ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —à–∞–≥—É 2!**

–ï—Å–ª–∏ –Ω–µ—Ç:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [cloud.yandex.ru](https://cloud.yandex.ru/)
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ (Folder)
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç"
   - –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª–∏:
     - `ai.languageModels.user` (–¥–ª—è YandexGPT)
     - `ai.speechkit-stt.user` (–¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏)
4. –°–æ–∑–¥–∞–π—Ç–µ API-–∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **API Key** ‚Üí `YANDEX_API_KEY`
   - **Folder ID** (–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞—Ç–∞–ª–æ–≥–∞) ‚Üí `YANDEX_FOLDER_ID`

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–õ–æ–∫–∞–ª—å–Ω–æ** (—Ñ–∞–π–ª `.env`):

```env
BOT_TOKEN=your_telegram_bot_token
YANDEX_API_KEY=your_yandex_api_key
YANDEX_FOLDER_ID=your_folder_id
AI_PROVIDER=yandexgpt
```

**–ù–∞ Vercel:**

```bash
vercel env add YANDEX_API_KEY
vercel env add YANDEX_FOLDER_ID
```

–ò–ª–∏ —á–µ—Ä–µ–∑ [Vercel Dashboard](https://vercel.com/dashboard) ‚Üí Settings ‚Üí Environment Variables

### 3. –î–µ–ø–ª–æ–π

**–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```bash
npm install
npm run dev
```

**–ü—Ä–æ–¥–∞–∫—à–Ω (Vercel):**

```bash
git add .
git commit -m "feat(voice): add voice recognition"
git push origin main
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ üé§
3. –ó–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º:
   - "–ò–¥–µ—è –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"
   - "–ü—Ä–∏–¥—É–º–∞–π —á—Ç–æ-—Ç–æ –¥–ª—è –ø—Ä–æ–¥–∞–∂"
   - "HR —Ä–µ—à–µ–Ω–∏–µ —Å AI"
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
5. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
chmod +x scripts/test-voice.sh
./scripts/test-voice.sh
```

## üì± –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏?

### –£—Å–ø–µ—à–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:

```
–í—ã: üé§ "–ò–¥–µ—è –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"

–ë–æ—Ç:
üé§ –°–ª—É—à–∞—é –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...
üîç –†–∞—Å–ø–æ–∑–Ω–∞—é –≤–∞—à—É —Ä–µ—á—å...
üìù –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "–∏–¥–µ—è –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞"
üí° –ì–µ–Ω–µ—Ä–∏—Ä—É—é –±–∏–∑–Ω–µ—Å-–∏–¥–µ—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞...

üéØ –ë–∏–∑–Ω–µ—Å-–∏–¥–µ—è –ø–æ —Ç–µ–º–µ "marketing":

AI-–∫—Ä–µ–∞—Ç–æ—Ä —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç
–∫—Ä–µ–∞—Ç–∏–≤—ã, —Ç–µ–∫—Å—Ç—ã, —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∏ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç A/B —Ç–µ—Å—Ç—ã
–≤–æ –≤—Å–µ—Ö —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö.

üé§ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–π –∏–¥–µ–∏!
```

## ‚ùå Troubleshooting

### "–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã API –∫–ª—é—á–∏

**–†–µ—à–µ–Ω–∏–µ:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª (–ª–æ–∫–∞–ª—å–Ω–æ) –∏–ª–∏ Environment Variables (Vercel)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `YANDEX_API_KEY` –∏ `YANDEX_FOLDER_ID` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### "–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ä–µ—á—å"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å API

**–†–µ—à–µ–Ω–∏–µ:**

- –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤ —Ç–∏—Ö–æ–º –º–µ—Å—Ç–µ
- –ì–æ–≤–æ—Ä–∏—Ç–µ —á—ë—Ç–∫–æ –∏ –Ω–µ —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—É –Ω–∞ [console.cloud.yandex.ru](https://console.cloud.yandex.ru/)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (`ai.speechkit-stt.user`)

### "–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ"

**–ü—Ä–∏—á–∏–Ω–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ > 30 —Å–µ–∫—É–Ω–¥

**–†–µ—à–µ–Ω–∏–µ:**

- –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ 30 —Å–µ–∫—É–Ω–¥
- –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ —Å–º. Streaming API –≤ [VOICE_RECOGNITION.md](docs/VOICE_RECOGNITION.md)

### "401 Unauthorized"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á

**–†–µ—à–µ–Ω–∏–µ:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `YANDEX_API_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### "429 Too Many Requests"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü

**–†–µ—à–µ–Ω–∏–µ:**

- –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞
- –ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ Yandex Cloud

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å

```
üé§ "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥"
‚Üí –ò–¥–µ—è –¥–ª—è marketing
```

### –†–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –∑–∞–ø—Ä–æ—Å

```
üé§ "–ü—Ä–∏–¥—É–º–∞–π AI —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂"
‚Üí –ò–¥–µ—è –¥–ª—è sales
```

### –°–≤–æ–±–æ–¥–Ω–∞—è —Ñ–æ—Ä–º–∞

```
üé§ "–ß—Ç–æ-–Ω–∏–±—É–¥—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞"
‚Üí –°–ª—É—á–∞–π–Ω–∞—è –∏–¥–µ—è
```

## üìä –ö–≤–æ—Ç—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (Yandex Cloud)

- üÜì **1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü** - SpeechKit STT
- üÜì **1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü** - YandexGPT Lite
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –ü–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ

- üí∞ **$0.0015 –∑–∞ 15 —Å–µ–∫—É–Ω–¥** –∞—É–¥–∏–æ (SpeechKit)
- üí∞ **~$0.003 –∑–∞ –∑–∞–ø—Ä–æ—Å** (YandexGPT)

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞:**

- 1000 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π √ó 15 —Å–µ–∫ = $1.5/–º–µ—Å (STT)
- 1000 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∏–¥–µ–π = $3/–º–µ—Å (GPT)
- **–ò—Ç–æ–≥–æ: ~$4.5/–º–µ—Å** –¥–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ YandexGPT
curl -X POST \
  https://llm.api.cloud.yandex.net/foundationModels/v1/completion \
  -H "Authorization: Api-Key $YANDEX_API_KEY" \
  -H "x-folder-id: $YANDEX_FOLDER_ID" \
  -d '{"modelUri":"gpt://'$YANDEX_FOLDER_ID'/yandexgpt-lite","messages":[{"role":"user","text":"test"}]}'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SpeechKit

–¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É–¥–∏–æ—Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ OGG:

```bash
curl -X POST \
  https://stt.api.cloud.yandex.net/speech/v1/stt:recognize \
  -H "Authorization: Api-Key $YANDEX_API_KEY" \
  --data-binary "@test.ogg"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [docs/VOICE_RECOGNITION.md](docs/VOICE_RECOGNITION.md)
- **–î–µ–º–æ –∏ –ø—Ä–∏–º–µ—Ä—ã:** [docs/VOICE_DEMO.md](docs/VOICE_DEMO.md)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –†–∞—Å—à–∏—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

1. **–î–æ–±–∞–≤—å—Ç–µ Text-to-Speech** - –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–º
2. **–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏** - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –Ω–µ–º–µ—Ü–∫–∏–π –∏ —Ç.–¥.
3. **–î–∏–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º** - —Å–µ—Ä–∏—è —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
4. **–ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–π** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–∑ –≥–æ–ª–æ—Å–∞

–°–º. [VOICE_RECOGNITION.md](docs/VOICE_RECOGNITION.md#—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –≤–∞—à –±–æ—Ç —É–º–µ–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è!

üé§ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ!
